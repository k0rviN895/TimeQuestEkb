<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>–ö–∞—Ä—Ç–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞ —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω–æ–π</title>
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background-color: #F5F5F5;
    }
    #map {
      width: 100%;
      height: calc(100% - 60px);
    }
    button {
      font-size: 14px;
      padding: 10px 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    button:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .route-button {
      background-color: #4CAF50;
      color: white;
      margin: 5px;
      display: inline-block;
      width: calc(100% - 10px);
      text-align: center;
    }
    .info-window {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      z-index: 10000;
      display: none;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }
    .info-window-content {
      display: flex;
      flex-direction: column;
    }
    .info-window-header {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #212121;
      padding-bottom: 10px;
      border-bottom: 1px solid #E0E0E0;
    }
    .info-window-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 15px;
    }
    .centuries-container {
      margin-bottom: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
    }
    .info-window-century {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }
    .info-window-description {
      font-size: 15px;
      line-height: 1.6;
      color: #555;
      margin-bottom: 15px;
    }
    .fact-item {
      margin-bottom: 10px;
      padding-left: 15px;
      position: relative;
      font-size: 14px;
      color: #666;
    }
    .fact-item:before {
      content: "‚Ä¢";
      position: absolute;
      left: 0;
      color: #4CAF50;
      font-weight: bold;
    }
    .info-window-close {
      align-self: flex-end;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      font-weight: 600;
      margin-top: 10px;
    }
    .info-window-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 9999;
      display: none;
    }
    .quiz-window {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      background-color: white;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      z-index: 10000;
      display: none;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }
    .quiz-header {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #212121;
      padding-bottom: 10px;
      border-bottom: 1px solid #E0E0E0;
      text-align: center;
    }
    .quiz-question {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      color: #333;
    }
    .quiz-options {
      margin-bottom: 20px;
    }
    .quiz-option {
      display: block;
      margin-bottom: 10px;
      padding: 12px;
      background-color: #f5f5f5;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      border: 1px solid #E0E0E0;
    }
    .quiz-option:hover {
      background-color: #e9e9e9;
    }
    .quiz-option.correct {
      background-color: #C8E6C9;
      border-color: #4CAF50;
    }
    .quiz-option.incorrect {
      background-color: #FFCDD2;
      border-color: #F44336;
    }
    .quiz-result {
      font-size: 16px;
      font-weight: bold;
      margin-top: 15px;
      text-align: center;
      display: none;
      padding: 10px;
      border-radius: 8px;
    }
    .quiz-result.correct {
      background-color: #C8E6C9;
      color: #2E7D32;
    }
    .quiz-result.incorrect {
      background-color: #FFCDD2;
      color: #C62828;
    }
    .quiz-next {
      display: none;
      margin: 15px auto 0;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      font-weight: 600;
    }
    .quiz-close {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #757575;
      color: white;
      font-weight: 600;
      display: block;
      width: 100%;
    }
    #centurySelector {
      position: absolute;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      background-color: white;
      padding: 8px 12px;
      border-radius: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    #resetControl {
      position: absolute;
      bottom: 40px;
      left: 10px;
      z-index: 1000;
    }
    #legend {
      position: absolute;
      top: 10px;
      right: 10px;
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      z-index: 1000;
      width: 160px;
      font-size: 12px;
    }
    select {
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #E0E0E0;
      cursor: pointer;
      background-color: white;
      min-width: 150px;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: white;
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .nav-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 33.33%;
      text-decoration: none;
      color: #757575;
    }
    .nav-button.active {
      color: #4CAF50;
    }
    .nav-icon {
      width: 24px;
      height: 24px;
      margin-bottom: 4px;
    }
    .nav-label {
      font-size: 12px;
    }
    .profile-panel {
      position: fixed;
      bottom: 60px;
      left: 0;
      right: 0;
      height: 70vh;
      background-color: white;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
      z-index: 999;
      display: none;
      overflow-y: auto;
      padding: 20px;
      box-sizing: border-box;
    }
    .profile-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }
    .profile-photo {
      width: 80px;
      height: 80px;
      border-radius: 40px;
      border: 3px solid #4CAF50;
      margin-bottom: 10px;
    }
    .profile-name {
      font-size: 18px;
      font-weight: bold;
      color: #212121;
    }
    .stats-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;
      gap: 10px;
    }
    .stat-item {
      width: 45%;
      max-width: 200px;
      background-color: #f5f5f5;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 10px;
      text-align: center;
    }
    .stat-value {
      font-size: 20px;
      font-weight: bold;
      color: #4CAF50;
      margin-bottom: 5px;
    }
    .stat-label {
      font-size: 12px;
      color: #757575;
    }
    .section-title {
      font-size: 16px;
      font-weight: bold;
      color: #212121;
      margin-bottom: 15px;
    }
    .achievement-item {
      display: flex;
      align-items: center;
      background-color: white;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .achievement-icon {
      width: 40px;
      height: 40px;
      margin-right: 12px;
    }
    .achievement-text {
      flex: 1;
    }
    .achievement-title {
      font-size: 14px;
      font-weight: bold;
      color: #212121;
      margin-bottom: 3px;
    }
    .achievement-description {
      font-size: 12px;
      color: #757575;
    }
    .close-button {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 30px;
      height: 30px;
      border-radius: 15px;
      background-color: #f5f5f5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: #757575;
      cursor: pointer;
    }
    @media (max-width: 480px) {
      .info-window, .quiz-window {
        width: 95%;
        padding: 15px;
      }
      .info-window-header {
        font-size: 20px;
      }
      .info-window-image {
        height: 150px;
      }
      #centurySelector {
        bottom: 70px;
      }
      #resetControl {
        bottom: 30px;
      }
      .profile-panel {
        height: 80vh;
      }
      .stat-item {
        width: 100%;
        max-width: none;
      }
    }
  </style>
</head>
<body>
  <div id="infoOverlay" class="info-window-overlay"></div>
  <div id="infoWindow" class="info-window">
    <div class="info-window-content">
      <div class="info-window-header" id="infoWindowTitle"></div>
      <img class="info-window-image" id="infoWindowImage" src="" alt="">
      <div class="centuries-container" id="infoWindowCenturies"></div>
      <div class="info-window-description" id="infoWindowDescription"></div>
      <button class="info-window-close" onclick="closeInfoWindow()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
  <div id="quizOverlay" class="info-window-overlay"></div>
  <div id="quizWindow" class="quiz-window">
    <div class="quiz-header" id="quizTitle">–í–∏–∫—Ç–æ—Ä–∏–Ω–∞</div>
    <div class="quiz-question" id="quizQuestion"></div>
    <div class="quiz-options" id="quizOptions"></div>
    <div class="quiz-result" id="quizResult"></div>
    <button class="quiz-next" id="quizNext" onclick="nextQuestion()">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
    <button class="quiz-close" onclick="closeQuiz()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
  <div id="profilePanel" class="profile-panel">
    <div class="close-button" onclick="closeProfile()">√ó</div>
    <div class="profile-header">
      <img class="profile-photo" src="./assets/user-photo.png" alt="–§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
      <div class="profile-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
    </div>
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-value">3/5</div>
        <div class="stat-label">–ò–∑—É—á–µ–Ω–Ω—ã–µ —ç–ø–æ—Ö–∏</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">12/60</div>
        <div class="stat-label">–ü–æ—Å–µ—â–µ–Ω–æ —Ç–æ—á–µ–∫</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">8/200</div>
        <div class="stat-label">–ü—Ä–æ–π–¥–µ–Ω–æ –≤–∏–∫—Ç–æ—Ä–∏–Ω</div>
      </div>
      <div class="stat-item">
        <div class="stat-value">3/30</div>
        <div class="stat-label">–í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
      </div>
    </div>
    <div class="section-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
    <div class="achievement-item">
      <img class="achievement-icon" src="./assets/medal.png" alt="–ú–µ–¥–∞–ª—å">
      <div class="achievement-text">
        <div class="achievement-title">–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏</div>
        <div class="achievement-description">–ü–æ—Å–µ—Ç–∏—Ç–µ 5 –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç</div>
      </div>
    </div>
    <div class="achievement-item">
      <img class="achievement-icon" src="./assets/quiz.png" alt="–í–∏–∫—Ç–æ—Ä–∏–Ω–∞">
      <div class="achievement-text">
        <div class="achievement-title">–≠—Ä—É–¥–∏—Ç</div>
        <div class="achievement-description">–ü—Ä–æ–π–¥–∏—Ç–µ 10 –≤–∏–∫—Ç–æ—Ä–∏–Ω</div>
      </div>
    </div>
    <div class="achievement-item">
      <img class="achievement-icon" src="./assets/explorer.png" alt="–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å">
      <div class="achievement-text">
        <div class="achievement-title">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</div>
        <div class="achievement-description">–ò–∑—É—á–∏—Ç–µ 3 —ç–ø–æ—Ö–∏</div>
      </div>
    </div>
    <div class="achievement-item" style="opacity: 0.6; position: relative;">
      <img class="achievement-icon" src="./assets/history.png" alt="–ò—Å—Ç–æ—Ä–∏–∫" style="filter: grayscale(100%);">
      <div class="achievement-text">
        <div class="achievement-title" style="color: #aaa;">–ò—Å—Ç–æ—Ä–∏–∫</div>
        <div class="achievement-description" style="color: #ccc;">–ü—Ä–æ–π–¥–∏—Ç–µ –≤—Å–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã –ø–æ –æ–¥–Ω–æ–π —ç–ø–æ—Ö–µ</div>
      </div>
      <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; background-color: rgba(255,255,255,0.5);">
        <span style="font-size: 20px;">üîí</span>
      </div>
    </div>
  </div>
  <div id="map"></div>
  <div id="centurySelector">
    <select id="centuryFilter" onchange="applyCenturyFilter()">
      <option value="">–í—Å–µ —ç–ø–æ—Ö–∏</option>
      <option value="18">XVIII –≤–µ–∫</option>
      <option value="19">XIX –≤–µ–∫</option>
      <option value="20">XX –≤–µ–∫</option>
      <option value="21">XXI –≤–µ–∫</option>
    </select>
  </div>
  <div id="resetControl">
    <button onclick="resetUserLocation()" style="background-color: #757575; color: white;">–°–±—Ä–æ—Å–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
  </div>
  <div id="legend">
    <strong>–õ–µ–≥–µ–Ω–¥–∞:</strong><br>
    <span style="color: #0000FF;">‚óè</span> XVIII –≤–µ–∫<br>
    <span style="color: #008000;">‚óè</span> XIX –≤–µ–∫<br>
    <span style="color: #FFA500;">‚óè</span> XX –≤–µ–∫<br>
    <span style="color: #FF0000;">‚óè</span> XXI –≤–µ–∫<br>
  </div>
  <div class="bottom-nav">
    <a href="#" class="nav-button" onclick="showProfile()">
      <img class="nav-icon" src="./assets/user-icon.png" alt="–ü—Ä–æ—Ñ–∏–ª—å">
      <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
    </a>
    <a href="#" class="nav-button active" onclick="showMap()">
      <img class="nav-icon" src="./assets/map-icon.png" alt="–ö–∞—Ä—Ç–∞">
      <span class="nav-label">–ö–∞—Ä—Ç–∞</span>
    </a>
    <a href="#" class="nav-button" onclick="showQuizSelector()">
      <img class="nav-icon" src="./assets/quiz.png" alt="–í–∏–∫—Ç–æ—Ä–∏–Ω—ã">
      <span class="nav-label">–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</span>
    </a>
  </div>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=cc2edfda-deef-47d7-a963-5853ae3beb53"></script>
  <script>
    function escapeHtml(unsafe) {
      if (!unsafe) return '';
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    function showInfoWindow(title, imageUrl, centuries, description, facts) {
      document.getElementById('infoWindowTitle').textContent = title;
      document.getElementById('infoWindowImage').src = imageUrl;
      document.getElementById('infoWindowImage').alt = title;
      let descHtml = `<p>${description}</p>`;
      if (facts && facts.length > 0) {
        descHtml += '<h4 style="margin-top: 15px; margin-bottom: 5px; font-size: 16px;">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã:</h4>';
        facts.forEach(fact => {
          descHtml += `<div class="fact-item">${fact}</div>`;
        });
      }
      document.getElementById('infoWindowDescription').innerHTML = descHtml;
      const centuriesContainer = document.getElementById('infoWindowCenturies');
      centuriesContainer.innerHTML = '';
      centuries.forEach(century => {
        const centurySpan = document.createElement('span');
        centurySpan.className = 'info-window-century';
        centurySpan.textContent = getCenturyName(century);
        centurySpan.style.backgroundColor = getCenturyColor(century);
        centuriesContainer.appendChild(centurySpan);
      });
      document.getElementById('infoOverlay').style.display = 'block';
      document.getElementById('infoWindow').style.display = 'block';
    }

    function closeInfoWindow() {
      document.getElementById('infoOverlay').style.display = 'none';
      document.getElementById('infoWindow').style.display = 'none';
    }

    function getCenturyName(century) {
      switch(century) {
        case 18: return 'XVIII –≤–µ–∫';
        case 19: return 'XIX –≤–µ–∫';
        case 20: return 'XX –≤–µ–∫';
        case 21: return 'XXI –≤–µ–∫';
        default: return '';
      }
    }

    function getCenturyColor(century) {
      switch(century) {
        case 18: return '#0000FF';
        case 19: return '#008000';
        case 20: return '#FFA500';
        case 21: return '#FF0000';
        default: return '#777777';
      }
    }

    const quizzes = {
      18: {
        title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞: XVIII –≤–µ–∫",
        questions: [
          {
            question: "–ö–∞–∫–æ–µ –≥–∏–¥—Ä–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–∞–ª–æ –æ—Å–Ω–æ–≤–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–æ–¥–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞?",
            options: [
              "–î–∞–º–±–∞ –Ω–∞ —Ä–µ–∫–µ –ß—É—Å–æ–≤–∞—è",
              "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∞—è –ø–ª–æ—Ç–∏–Ω–∞",
              "–í–µ—Ä—Ö-–ò—Å–µ—Ç—Å–∫–∏–π –ø—Ä—É–¥"
            ],
            answer: 1
          },
          {
            question: "–ö–æ–≥–¥–∞ –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –ø–µ—Ä–≤—ã–π –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∏–π –∑–∞–≤–æ–¥ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞?",
            options: [
              "1703 –≥–æ–¥",
              "1723 –≥–æ–¥",
              "1750 –≥–æ–¥"
            ],
            answer: 1
          },
          {
            question: "–ö–∞–∫—É—é —Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω—è–ª–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∞—è –ø–ª–æ—Ç–∏–Ω–∞ –ø–æ–º–∏–º–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–µ–π –∑–∞–≤–æ–¥–∞?",
            options: [
              "–°–ª—É–∂–∏–ª–∞ –º–æ—Å—Ç–æ–º –∏ –º–µ–ª—å–Ω–∏—Ü–µ–π",
              "–ë—ã–ª–∞ –º–µ—Å—Ç–æ–º –æ—Ç–¥—ã—Ö–∞ –≥–æ—Ä–æ–∂–∞–Ω",
              "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –∫–∞–∫ —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞"
            ],
            answer: 0
          },
          {
            question: "–ß—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–∏ –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–º –∑–∞–≤–æ–¥–µ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞?",
            options: [
              "–¢–∫–∞–Ω–∏ –∏ –æ–¥–µ–∂–¥—É",
              "–ñ–µ–ª–µ–∑–æ, —á—É–≥—É–Ω –∏ –ø—É—à–∫–∏",
              "–î–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è"
            ],
            answer: 1
          },
          {
            question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å –ø–µ—Ä–≤—ã–µ –∂–∏–ª—ã–µ –¥–æ–º–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—á–∏—Ö –∑–∞–≤–æ–¥–∞?",
            options: [
              "–î–æ–º–∏–∫–∏ –º–∞—Å—Ç–µ—Ä–æ–≤—ã—Ö",
              "–ö—É–ø–µ—á–µ—Å–∫–∏–µ —É—Å–∞–¥—å–±—ã",
              "–ö—Ä–µ—Å—Ç—å—è–Ω—Å–∫–∏–µ –∏–∑–±—ã"
            ],
            answer: 0
          }
        ]
      },
      19: {
        title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞: XIX –≤–µ–∫",
        questions: [
          {
            question: "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–π –¥–æ–º –≤ —Å—Ç–∏–ª–µ –∫–ª–∞—Å—Å–∏—Ü–∏–∑–º–∞, —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É—é—â–∏–π –±–æ–≥–∞—Ç—Å—Ç–≤–æ –∫—É–ø–µ—á–µ—Å—Ç–≤–∞?",
            options: [
              "–î–æ–º –°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞",
              "–î–æ–º –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
              "–î–æ–º –ú–µ—Ü–µ–Ω–∞—Ç–æ–≤"
            ],
            answer: 0
          },
          {
            question: "–ö–æ–≥–¥–∞ –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –î–æ–º –°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞?",
            options: [
              "1845 –≥–æ–¥",
              "1865 –≥–æ–¥",
              "1885 –≥–æ–¥"
            ],
            answer: 1
          },
          {
            question: "–ö–∞–∫–æ–π —Ç–µ–∞—Ç—Ä —Å—Ç–∞–ª –ø–µ—Ä–≤—ã–º —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–º —Ç–µ–∞—Ç—Ä–æ–º –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞?",
            options: [
              "–¢–µ–∞—Ç—Ä –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞",
              "–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–∞—Ç—Ä",
              "–ù–∞—Ä–æ–¥–Ω—ã–π —Ç–µ–∞—Ç—Ä"
            ],
            answer: 0
          },
          {
            question: "–°–∫–æ–ª—å–∫–æ –∑—Ä–∏—Ç–µ–ª–µ–π –º–æ–≥ –≤–º–µ—Å—Ç–∏—Ç—å –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∏–π —Ç–µ–∞—Ç—Ä –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞ –¥–æ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏?",
            options: [
              "–î–æ 500 —á–µ–ª–æ–≤–µ–∫",
              "–î–æ 800 —á–µ–ª–æ–≤–µ–∫",
              "–î–æ 1000 —á–µ–ª–æ–≤–µ–∫"
            ],
            answer: 1
          },
          {
            question: "–ö–∞–∫–æ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–∞–ª–æ —Ü–µ–Ω—Ç—Ä–æ–º —Ç–æ—Ä–≥–æ–≤–ª–∏ –≤ 19 –≤–µ–∫–µ?",
            options: [
              "–¢–æ—Ä–≥–æ–≤—ã–µ —Ä—è–¥—ã",
              "–†—ã–Ω–æ–∫",
              "–ë–∞–∑–∞—Ä"
            ],
            answer: 0
          }
        ]
      },
      20: {
        title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞: XX –≤–µ–∫",
        questions: [
          {
            question: "–ö–∞–∫–æ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–º —Å–æ–≤–µ—Ç—Å–∫–æ–π –≤–ª–∞—Å—Ç–∏ –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ?",
            options: [
              "–î–æ–º –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
              "–î–æ–º –°–æ–≤–µ—Ç–æ–≤",
              "–î–æ–º –ö—Ä–∞—Å–Ω–æ–π –ê—Ä–º–∏–∏"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π —Å—Ç–∏–ª—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è –î–æ–º–∞ –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞?",
            options: [
              "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º",
              "–ö–ª–∞—Å—Å–∏—Ü–∏–∑–º",
              "–ë–∞—Ä–æ–∫–∫–æ"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π –≤—É–∑ —Å—Ç–∞–ª –∫—É–∑–Ω–∏—Ü–µ–π –∫–∞–¥—Ä–æ–≤ –¥–ª—è –£—Ä–∞–ª–∞?",
            options: [
              "–£—Ä–∞–ª—å—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç",
              "–£—Ä–∞–ª—å—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç",
              "–£—Ä–∞–ª—å—Å–∫–∏–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π –∑–∞–≤–æ–¥ –≤—ã–ø—É—Å–∫–∞–ª —Ç–∞–Ω–∫–∏ –≤–æ –≤—Ä–µ–º—è –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã?",
            options: [
              "–ó–∞–≤–æ–¥ –£—Ä–∞–ª–º–∞—à",
              "–ó–∞–≤–æ–¥ –∏–º–µ–Ω–∏ –ö–∏—Ä–æ–≤–∞",
              "–ó–∞–≤–æ–¥ –∏–º–µ–Ω–∏ –õ–µ–Ω–∏–Ω–∞"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π –ø–∞—Ä–∫ —Å—Ç–∞–ª –ª—é–±–∏–º—ã–º –º–µ—Å—Ç–æ–º –ø—Ä–æ–≥—É–ª–æ–∫ –≥–æ—Ä–æ–∂–∞–Ω?",
            options: [
              "–ü–∞—Ä–∫ –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ",
              "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫",
              "–ì–æ—Ä–æ–¥—Å–∫–æ–π —Å–∞–¥"
            ],
            answer: 0
          }
        ]
      },
      21: {
        title: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞: XXI –≤–µ–∫",
        questions: [
          {
            question: "–ö–∞–∫–æ–µ –∑–¥–∞–Ω–∏–µ —Å—Ç–∞–ª–æ —Å–∞–º—ã–º –≤—ã—Å–æ–∫–∏–º –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ?",
            options: [
              "–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä \"–í—ã—Å–æ—Ü–∫–∏–π\"",
              "–î–æ–º –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
              "–î–æ–º –°–æ–≤–µ—Ç–æ–≤"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π –º—É–∑–µ–π —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –æ –∂–∏–∑–Ω–∏ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–∏?",
            options: [
              "–ï–ª—å—Ü–∏–Ω –¶–µ–Ω—Ç—Ä",
              "–ú—É–∑–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –≥–æ—Ä–æ–¥–∞",
              "–ú—É–∑–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π —Å—Ç–∞–¥–∏–æ–Ω –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –∫ –ß–µ–º–ø–∏–æ–Ω–∞—Ç—É –º–∏—Ä–∞ –ø–æ —Ñ—É—Ç–±–æ–ª—É 2018 –≥–æ–¥–∞?",
            options: [
              "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ –ê—Ä–µ–Ω–∞",
              "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å—Ç–∞–¥–∏–æ–Ω",
              "–õ—É–∂–Ω–∏–∫–∏"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π –ø–∞—Ä–∫ —Å—Ç–∞–ª –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏?",
            options: [
              "–ù–æ–≤–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è —Ä–µ–∫–∏ –ò—Å–µ—Ç—å",
              "–ü–∞—Ä–∫ –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ",
              "–ì–æ—Ä–æ–¥—Å–∫–æ–π —Å–∞–¥"
            ],
            answer: 0
          },
          {
            question: "–ö–∞–∫–æ–π —Ç–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä —Å—Ç–∞–ª –ø–µ—Ä–≤—ã–º –∫—Ä—É–ø–Ω—ã–º –¢–¶ –≤ –≥–æ—Ä–æ–¥–µ?",
            options: [
              "–¢–¶ \"–ê–ª–∞—Ç—ã—Ä—å\"",
              "–¢–¶ \"–ú–µ–≥–∞–ø–æ–ª–∏—Å\"",
              "–¢–¶ \"–ì–ª–æ–±—É—Å\""
            ],
            answer: 0
          }
        ]
      }
    };

    let currentQuiz = null;
    let currentQuestionIndex = 0;
    let score = 0;

    function showQuizSelector() {
      const quizSelect = document.createElement('div');
      quizSelect.style.position = 'fixed';
      quizSelect.style.top = '50%';
      quizSelect.style.left = '50%';
      quizSelect.style.transform = 'translate(-50%, -50%)';
      quizSelect.style.backgroundColor = 'white';
      quizSelect.style.padding = '20px';
      quizSelect.style.borderRadius = '16px';
      quizSelect.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
      quizSelect.style.zIndex = '10000';
      quizSelect.style.width = '90%';
      quizSelect.style.maxWidth = '400px';
      quizSelect.innerHTML = `
        <h3 style="margin-top: 0; margin-bottom: 15px; text-align: center;">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</h3>
        <button onclick="startQuiz(18)" style="display: block; width: 100%; margin-bottom: 10px; background-color: #0000FF; color: white; padding: 12px;">XVIII –≤–µ–∫</button>
        <button onclick="startQuiz(19)" style="display: block; width: 100%; margin-bottom: 10px; background-color: #008000; color: white; padding: 12px;">XIX –≤–µ–∫</button>
        <button onclick="startQuiz(20)" style="display: block; width: 100%; margin-bottom: 10px; background-color: #FFA500; color: white; padding: 12px;">XX –≤–µ–∫</button>
        <button onclick="startQuiz(21)" style="display: block; width: 100%; margin-bottom: 10px; background-color: #FF0000; color: white; padding: 12px;">XXI –≤–µ–∫</button>
        <button onclick="document.body.removeChild(this.parentNode)" style="display: block; width: 100%; margin-top: 10px; background-color: #757575; color: white; padding: 12px;">–û—Ç–º–µ–Ω–∞</button>
      `;
      document.body.appendChild(quizSelect);
    }

    function startQuiz(century) {
      document.body.querySelector('div')?.remove();
      currentQuiz = quizzes[century];
      currentQuestionIndex = 0;
      score = 0;
      showQuestion();
      document.getElementById('quizOverlay').style.display = 'block';
      document.getElementById('quizWindow').style.display = 'block';
    }

    function showQuestion() {
      if (!currentQuiz || currentQuestionIndex >= currentQuiz.questions.length) {
        endQuiz();
        return;
      }
      const question = currentQuiz.questions[currentQuestionIndex];
      document.getElementById('quizTitle').textContent = currentQuiz.title;
      document.getElementById('quizQuestion').textContent = question.question;
      const optionsContainer = document.getElementById('quizOptions');
      optionsContainer.innerHTML = '';
      question.options.forEach((option, index) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'quiz-option';
        optionElement.textContent = option;
        optionElement.onclick = () => selectAnswer(index);
        optionsContainer.appendChild(optionElement);
      });
      document.getElementById('quizResult').style.display = 'none';
      document.getElementById('quizNext').style.display = 'none';
    }

    function selectAnswer(selectedIndex) {
      const question = currentQuiz.questions[currentQuestionIndex];
      const options = document.querySelectorAll('.quiz-option');
      options.forEach((option, index) => {
        option.style.pointerEvents = 'none';
        if (index === question.answer) {
          option.classList.add('correct');
        } else if (index === selectedIndex && index !== question.answer) {
          option.classList.add('incorrect');
        }
      });
      const resultElement = document.getElementById('quizResult');
      if (selectedIndex === question.answer) {
        score++;
        resultElement.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
        resultElement.className = 'quiz-result correct';
      } else {
        resultElement.textContent = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!';
        resultElement.className = 'quiz-result incorrect';
      }
      resultElement.style.display = 'block';
      document.getElementById('quizNext').style.display = 'block';
    }

    function nextQuestion() {
      currentQuestionIndex++;
      showQuestion();
    }

    function endQuiz() {
      document.getElementById('quizQuestion').textContent = `–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${currentQuiz.questions.length}`;
      document.getElementById('quizOptions').innerHTML = '';
      document.getElementById('quizNext').style.display = 'none';
    }

    function closeQuiz() {
      document.getElementById('quizOverlay').style.display = 'none';
      document.getElementById('quizWindow').style.display = 'none';
    }

    function showProfile() {
      document.getElementById('profilePanel').style.display = 'block';
      document.querySelectorAll('.nav-button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector('.nav-button:nth-child(1)').classList.add('active');
    }

    function closeProfile() {
      document.getElementById('profilePanel').style.display = 'none';
      document.querySelectorAll('.nav-button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector('.nav-button:nth-child(2)').classList.add('active');
    }

    function showMap() {
      document.getElementById('profilePanel').style.display = 'none';
      document.querySelectorAll('.nav-button').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector('.nav-button:nth-child(2)').classList.add('active');
    }

    var myMap;
    var userPosition = null;
    var currentRoute = null;
    var userPlacemark = null;
    var userLocationSet = false;

    ymaps.ready(init);

    function init() {
      myMap = new ymaps.Map("map", {
        center: [56.838011, 60.597465],
        zoom: 12,
        controls: []
      }, {
        restrictMapArea: [
          [56.677354, 60.194179],
          [57.046116, 61.070928]
        ]
      });

      const centuryPresets = {
        18: 'islands#blueIcon',
        19: 'islands#greenIcon',
        20: 'islands#orangeIcon',
        21: 'islands#redIcon'
      };

      function getIconPreset(centuries) {
        if (!centuries || centuries.length === 0) return 'islands#grayIcon';
        const priorityCentury = centuries.sort((a, b) => a - b)[0];
        return centuryPresets[priorityCentury] || 'islands#grayIcon';
      }

      window.markersData = [
        {
          name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∞—è –ø–ª–æ—Ç–∏–Ω–∞',
          coords: [56.838624, 60.603383],
          centuries: [18,19,20,21],
          image: './assets/21/dam.jpg',
          description: '–ü–ª–æ—Ç–∏–Ω–∞ –±—ã–ª–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –ª–∏—á–Ω–æ–º—É —É–∫–∞–∑—É –ü–µ—Ç—Ä–∞ I –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ—Å–≤–æ–µ–Ω–∏—è –£—Ä–∞–ª–∞. –û–Ω–∞ —Å—Ç–∞–ª–∞ –ø–µ—Ä–≤—ã–º –≥–∏–¥—Ä–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ–º –Ω–∞ –£—Ä–∞–ª–µ –∏ –æ—Å–Ω–æ–≤–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–æ–¥–∞.',
          facts: [
            '–î–ª–∏–Ω–∞ –ø–ª–æ—Ç–∏–Ω—ã - 92 –º–µ—Ç—Ä–∞',
            '–°—Ç—Ä–æ–∏–ª–∞—Å—å —Å–∏–ª–∞–º–∏ –∫—Ä–µ–ø–æ—Å—Ç–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –∏–Ω–∂–µ–Ω–µ—Ä–∞ –í–∏–ª—å–≥–µ–ª—å–º–∞ –¥–µ –ì–µ–Ω–Ω–µ–Ω–∞',
            '–ü–µ—Ä–µ–∂–∏–ª–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞ —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é –∑–Ω–∞—á–∏–º–æ—Å—Ç—å'
          ]
        },
        {
          name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∏–π –∑–∞–≤–æ–¥',
          coords: [56.839892, 60.555582],
          centuries: [18,19,20,21],
          image: './assets/21/factory.png',
          description: '–ü–µ—Ä–≤—ã–π –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∏–π –∑–∞–≤–æ–¥ –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –∫–∞–∫ —á–∞—Å—Ç—å –í—ã–π—Å–∫–æ-–®–∞–π—Ç–∞–Ω—Å–∫–æ–≥–æ –≥–æ—Ä–Ω–æ–≥–æ –æ–∫—Ä—É–≥–∞. –û–Ω —Å—Ç–∞–ª –∫—Ä—É–ø–Ω–µ–π—à–∏–º –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ–º –£—Ä–∞–ª–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏–≤—à–∏–º –∂–µ–ª–µ–∑–æ, —á—É–≥—É–Ω –∏ –ø—É—à–∫–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–π –∞—Ä–º–∏–∏.',
          facts: [
            '–ü—Ä–æ–∏–∑–≤–æ–¥–∏–ª –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è –¥–ª—è –≤—Å–µ–π –†–æ—Å—Å–∏–∏',
            '–ò–º–µ–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä—É–¥–Ω–∏–∫–∏ –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—è—Ö –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞',
            '–†–∞–±–æ—Ç–∞–ª –ø–æ –ø–µ—Ä–µ–¥–æ–≤—ã–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–º –∏–∑ –ï–≤—Ä–æ–ø—ã'
          ]
        },
        {
          name: '–î–æ–º–∏–∫–∏ –º–∞—Å—Ç–µ—Ä–æ–≤—ã—Ö',
          coords: [56.836044, 60.588615],
          centuries: [18,19,20,21],
          image: './assets/21/workers-houses.jpg',
          description: '–≠—Ç–∏ –ø—Ä–æ—Å—Ç—ã–µ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã–µ –¥–æ–º–∞ –±—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—á–∏—Ö –∑–∞–≤–æ–¥–∞ –∏ –∏—Ö —Å–µ–º–µ–π. –û–Ω–∏ —Å—Ç–∞–ª–∏ –ø–µ—Ä–≤—ã–º–∏ –∂–∏–ª—ã–º–∏ –ø–æ—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≥–æ—Ä–æ–¥–∞ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –µ–≥–æ –ø–µ—Ä–≤—ã–µ —É–ª–∏—Ü—ã-—Ä—è–¥—ã.',
          facts: [
            '–°—Ç–µ–Ω—ã —Ç–æ–ª—â–∏–Ω–æ–π –¥–æ 50 —Å–º –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ö–æ–ª–æ–¥–∞',
            '–ò–º–µ–ª–∏ –ø–µ—á–Ω–æ–µ –æ—Ç–æ–ø–ª–µ–Ω–∏–µ –∏ –Ω–µ–±–æ–ª—å—à–∏–µ –æ–∫–Ω–∞',
            '–§–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –ø–µ—Ä–≤—ã–µ —É–ª–∏—Ü—ã-—Ä—è–¥—ã'
          ]
        },
        {
          name: '–ì–æ—Ä–æ–¥—Å–∫–∞—è —É–ø—Ä–∞–≤–∞',
          coords: [56.837257, 60.597623],
          centuries: [18,19,20,21],
          image: './assets/21/city-hall.jpg',
          description: '–ì–æ—Ä–æ–¥—Å–∫–∞—è —É–ø—Ä–∞–≤–∞ –±—ã–ª–∞ –ø–µ—Ä–≤—ã–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞. –ó–¥–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å –≤–∞–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ —Ä–∞–∑–≤–∏—Ç–∏–∏ –≥–æ—Ä–æ–¥–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–æ–¥–∞–º–∏ –∏ —Ä–µ—à–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –∂–∏—Ç–µ–ª—è–º–∏.',
          facts: [
            '–î–µ—Ä–µ–≤—è–Ω–Ω–æ–µ –∑–¥–∞–Ω–∏–µ —Å –ø—Ä–æ—Å—Ç—ã–º–∏ —É–∫—Ä–∞—à–µ–Ω–∏—è–º–∏',
            '–û—Ö—Ä–∞–Ω—è–ª–æ—Å—å –∫–∞–∑–∞–∫–∞–º–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞',
            '–ó–¥–µ—Å—å —Ä–µ—à–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –Ω–∞–ª–æ–≥–æ–≤'
          ]
        },
        {
          name: '–ü–µ—Ä–≤–∞—è —Ü–µ—Ä–∫–æ–≤—å',
          coords: [56.838352, 60.607489],
          centuries: [18,19,20,21],
          image: './assets/21/church.jpg',
          description: '–ü–µ—Ä–≤–∞—è —Ü–µ—Ä–∫–æ–≤—å –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ –±—ã–ª–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π. –û–Ω–∞ —Å—Ç–∞–ª–∞ –¥—É—Ö–æ–≤–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º –≥–æ—Ä–æ–¥–∞ –∏ –º–µ—Å—Ç–æ–º –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –±–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏–π.',
          facts: [
            '–ò–º–µ–ª–∞ –æ–¥–∏–Ω –ø—Ä–µ—Å—Ç–æ–ª –∏ –∫–æ–ª–æ–∫–æ–ª—å–Ω—é',
            '–ë–æ–≥–æ—Å–ª—É–∂–µ–Ω–∏—è –ø—Ä–æ–≤–æ–¥–∏–ª–∏—Å—å –µ–∂–µ–¥–Ω–µ–≤–Ω–æ',
            '–ü–æ–∑–∂–µ —Å—Ç–∞–ª–∞ —Ü–µ–Ω—Ç—Ä–æ–º –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω–∏'
          ]
        },
        {
          name: '–ü–µ—Ä–≤–∞—è —à–∫–æ–ª–∞',
          coords: [56.838432, 60.571633],
          centuries: [18,19,20,21],
          image: './assets/21/school.jpg',
          description: '–ü–µ—Ä–≤–∞—è —à–∫–æ–ª–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞ –±—ã–ª–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –≤ 1724 –≥–æ–¥—É –ø–æ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏—é –í–∏–ª—å–≥–µ–ª—å–º–∞ –¥–µ –ì–µ–Ω–Ω–∏–Ω–∞ –ø—Ä–∏ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º –∑–∞–≤–æ–¥–µ. –û–Ω–∞ —Å—Ç–∞–ª–∞ –ø–µ—Ä–≤—ã–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ–º –≥–æ—Ä–æ–¥–∞.',
          facts: [
            '–≠—Ç–æ –ø–µ—Ä–≤–æ–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —É—á–µ–±–Ω–æ–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞',
            '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø—Ä–æ—Å—Ç—ã–µ —É—á–µ–±–Ω–∏–∫–∏',
            '–®–∫–æ–ª–∞ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –ø—Ä–∏ –∑–∞–≤–æ–¥–µ'
          ]
        },
        {
          name: '–î–æ–º –°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞',
          coords: [56.839162, 60.606091],
          centuries: [19,20,21],
          image: './assets/21/sevastyanov.jpg',
          description: '–î–æ–º –°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞ –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤ —Å—Ç–∏–ª–µ –∫–ª–∞—Å—Å–∏—Ü–∏–∑–º–∞ –∫–∞–∫ —Å–∏–º–≤–æ–ª –±–æ–≥–∞—Ç—Å—Ç–≤–∞ –∏ –≤–ª–∏—è–Ω–∏—è –µ–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–≥–æ –∫—É–ø–µ—á–µ—Å—Ç–≤–∞. –û–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª –∫—É–ø—Ü—É –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—É –°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤—É.',
          facts: [
            '–ò–º–µ–µ—Ç –¥–≤–∞ —Ñ–∞—Å–∞–¥–∞: –ø–∞—Ä–∞–¥–Ω—ã–π –∏ —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–π',
            '–£–∫—Ä–∞—à–µ–Ω –∫–æ–ª–æ–Ω–Ω–∞–º–∏ –∏ –ª–µ–ø–Ω–∏–Ω–æ–π',
            '–ü–æ–∑–∂–µ —Å—Ç–∞–ª –∑–¥–∞–Ω–∏–µ–º –≥–æ—Ä–æ–¥—Å–∫–æ–π –¥—É–º—ã'
          ]
        },
        {
          name: '–¢–µ–∞—Ç—Ä –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞',
          coords: [56.838880, 60.616657],
          centuries: [19,20,21],
          image: './assets/21/theater.png',
          description: '–¢–µ–∞—Ç—Ä –±—ã–ª –æ—Ç–∫—Ä—ã—Ç –∫–∞–∫ –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π —Ç–µ–∞—Ç—Ä –≥–æ—Ä–æ–¥–∞. –û–Ω —Å—Ç–∞–ª —Ü–µ–Ω—Ç—Ä–æ–º –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω–∏ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞ –∏ –ø—Ä–∏–Ω–∏–º–∞–ª —Å–ø–µ–∫—Ç–∞–∫–ª–∏ –∏ –∫–æ–Ω—Ü–µ—Ä—Ç—ã.',
          facts: [
            '–í–º–µ—â–∞–ª –¥–æ 800 –∑—Ä–∏—Ç–µ–ª–µ–π',
            '–¢–µ–∞—Ç—Ä –ø–æ–ª—É—á–∏–ª –ø—Ä–æ–∑–≤–∏—â–µ ¬´–ë–µ–ª—ã–π –ª–µ–±–µ–¥—å¬ª –∑–∞ —Å–≤–æ—é –∏–∑—è—â–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É',
            '–ü–µ—Ä–µ–∂–∏–ª –ø–æ–∂–∞—Ä –∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é'
          ]
        },
        {
          name: '–î–æ–º –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏',
          coords: [56.888578, 60.613591],
          centuries: [20,21],
          image: './assets/21/government.jpg',
          description: '–ó–¥–∞–Ω–∏–µ –±—ã–ª–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –≤ —Å—Ç–∏–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º–∞ –∫–∞–∫ —Å–∏–º–≤–æ–ª —Å–æ–≤–µ—Ç—Å–∫–æ–π –≤–ª–∞—Å—Ç–∏. –û–Ω–æ —Å—Ç–∞–ª–æ —Ü–µ–Ω—Ç—Ä–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–º –∏ –º–µ—Å—Ç–æ–º –ø—Ä–∏–Ω—è—Ç–∏—è –≤–∞–∂–Ω–µ–π—à–∏—Ö —Ä–µ—à–µ–Ω–∏–π.',
          facts: [
            '–ò–º–µ–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —á–µ—Ä—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º–∞ - —Å—Ç—Ä–æ–≥–∏–µ –ª–∏–Ω–∏–∏, –º–∏–Ω–∏–º–∞–ª–∏–∑–º',
            '–í–æ –≤—Ä–µ–º—è –≤–æ–π–Ω—ã –∑–¥–µ—Å—å –ø—Ä–∏–Ω–∏–º–∞–ª–∏—Å—å —Ä–µ—à–µ–Ω–∏—è –æ –º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏',
            '–°–æ—Ö—Ä–∞–Ω–∏–ª –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—å–µ—Ä—ã'
          ]
        },
        {
          name: '–ó–∞–≤–æ–¥ –£—Ä–∞–ª–º–∞—à',
          coords: [56.883883, 60.594519],
          centuries: [20,21],
          image: './assets/21/uralmash.jpg',
          description: '–û–¥–∏–Ω –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –º–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–æ–¥–æ–≤ –°–°–°–†, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –≤ 1933 –∏ —Å—ã–≥—Ä–∞–≤—à–∏–π –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω—ã.',
          facts: [
            '–ü—Ä–æ–∏–∑–≤–æ–¥–∏–ª —Ç–∞–Ω–∫–∏ –¢-34',
            '–ò–º–µ–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —à–∫–æ–ª—ã, –±–æ–ª—å–Ω–∏—Ü—ã –∏ –∫–ª—É–±—ã',
            '–§–æ—Ä–º–∏—Ä–æ–≤–∞–ª —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ä–∞–π–æ–Ω–∞'
          ]
        },
        {
          name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–∏–π —Ü–∏—Ä–∫',
          coords: [56.825904, 60.604911],
          centuries: [20,21],
          image: './assets/21/circus.jpeg',
          description: '–ü–µ—Ä–≤—ã–π —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–π —Ü–∏—Ä–∫ –≤ –≥–æ—Ä–æ–¥–µ, —Å—Ç–∞–≤—à–∏–π —Ü–µ–Ω—Ç—Ä–æ–º –∫—É–ª—å—Ç—É—Ä–Ω–æ–π –∂–∏–∑–Ω–∏. –¶–∏—Ä–∫ –≤–º–µ—â–∞–µ—Ç –¥–æ 2000 –∑—Ä–∏—Ç–µ–ª–µ–π –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤.',
          facts: [
            '–ò–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ –≤–∏–¥–µ –∫—É–ø–æ–ª–∞',
            '–¶–∏—Ä–∫ –Ω–æ—Å–∏—Ç –∏–º—è –Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞ –°–°–°–†, –¥—Ä–µ—Å—Å–∏—Ä–æ–≤—â–∏–∫–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –§–∏–ª–∞—Ç–æ–≤–∞',
            '–ò–º–µ–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π'
          ]
        },
        {
          name: '–ü–∞—Ä–∫ –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ',
          coords: [56.8450, 60.6250],
          centuries: [20,21],
          image: './assets/21/park.jpg',
          description: '–û–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∫–æ–≤ –æ—Ç–¥—ã—Ö–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥–æ—Ä–æ–∂–∞–Ω. –ü–∞—Ä–∫ –Ω–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å –ø–æ—ç—Ç–∞ –í–ª–∞–¥–∏–º–∏—Ä–∞ –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ –∏ —Å—Ç–∞–ª –ª—é–±–∏–º—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫.',
          facts: [
            '–ò–º–µ–ª –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω—ã –∏ –ª–µ—Ç–Ω–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä',
            '–ù–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å –ø–æ—ç—Ç–∞ –í–ª–∞–¥–∏–º–∏—Ä–∞ –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ',
            '–í 1963 –≥–æ–¥—É —É —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä—ã–ª—Å—è –ø–ª–∞–Ω–µ—Ç–∞—Ä–∏–π'
          ]
        },
        {
          name: '–£—Ä–∞–ª—å—Å–∫–∏–π –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç',
          coords: [56.8436, 60.6534],
          centuries: [20,21],
          image: './assets/21/urfu.jpg',
          description: '–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –±–∞–∑–µ –£—Ä–∞–ª—å—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –∏–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–∏ –ë. –ù. –ï–ª—å—Ü–∏–Ω–∞ –ø–æ —É–∫–∞–∑—É –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–§ –î. –ê. –ú–µ–¥–≤–µ–¥–µ–≤–∞ ‚Ññ 1172 –æ—Ç 21 –æ–∫—Ç—è–±—Ä—è 2009 –≥–æ–¥–∞.',
          facts: [
            '–£—Ä–§–£ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ RAEX-100 –ª—É—á—à–∏—Ö –≤—É–∑–æ–≤ –†–æ—Å—Å–∏–∏ 2025 –≥–æ–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 11 –º–µ—Å—Ç–æ.',
            '–°—Ç–æ –ª–µ—Ç –Ω–∞–∑–∞–¥ –æ—Å–Ω–æ–≤—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Ä–∞–ª—å—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Å–æ—Å—Ç–∞–≤–∏–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∑–Ω–∞–º–µ–Ω–∏—Ç–æ–≥–æ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—Å–∫–æ–≥–æ (—Ä–∞–Ω–µ–µ –¶–∞—Ä—Å–∫–æ—Å–µ–ª—å—Å–∫–æ–≥–æ) –ª–∏—Ü–µ—è, –≤ –∫–æ—Ç–æ—Ä–æ–º —É—á–∏–ª—Å—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü—É—à–∫–∏–Ω –∏ –¥—Ä—É–≥–∏–µ –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–µ —Ä–æ—Å—Å–∏—è–Ω–µ.',
            '–ó–∞ —Å—Ç–æ–ª–µ—Ç–∏–µ –≤—É–∑ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –º–µ–Ω—è–ª —Å–≤–æ—ë –∏–º—è: –£—Ä–∞–ª—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –£—Ä–∞–ª—å—Å–∫–∏–π –ø–æ–ª–∏—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç–∏—Ç—É—Ç, –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç–∏—Ç—É—Ç, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –£—Ä–ì–£ –∏ –£–ü–ò. –°–µ–≥–æ–¥–Ω—è –æ–Ω –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –£—Ä–§–£.'
          ]
        },
        {
          name: '–ï–ª—å—Ü–∏–Ω –¶–µ–Ω—Ç—Ä',
          coords: [56.844835, 60.591415],
          centuries: [21],
          image: './assets/21/eltsin.jpg',
          description: '–ú—É–∑–µ–π –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–∏ –ë–æ—Ä–∏—Å–∞ –ï–ª—å—Ü–∏–Ω–∞, –æ—Ç–∫—Ä—ã—Ç—ã–π –≤ 2015 –≥–æ–¥—É. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Ü–µ–Ω—Ç—Ä —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è–º–∏.',
          facts: [
            '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è —Ä–∞—Å—Å–∫–∞–∑–∞ –æ–± –∏—Å—Ç–æ—Ä–∏–∏',
            '–ò–º–µ–µ—Ç –æ–±—à–∏—Ä–Ω—ã–π –∞—Ä—Ö–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤',
            '–°—Ç–∞–ª –Ω–æ–≤—ã–º –∫—É–ª—å—Ç—É—Ä–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º'
          ]
        },
        {
          name: '–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä "–í—ã—Å–æ—Ü–∫–∏–π"',
          coords: [56.836077, 60.614598],
          centuries: [21],
          image: './assets/21/vysotsky.png',
          description: '–°–∞–º–æ–µ –≤—ã—Å–æ–∫–æ–µ –∑–¥–∞–Ω–∏–µ –≤ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–µ (188 –º), –æ—Ç–∫—Ä—ã—Ç–æ–µ –≤ 2011 –≥–æ–¥—É. –ù–∞ –≤–µ—Ä—Ö–Ω–∏—Ö —ç—Ç–∞–∂–∞—Ö –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–º–æ—Ç—Ä–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞.',
          facts: [
            '–í—ã—Å–æ—Ç–∞ - 188 –º–µ—Ç—Ä–æ–≤',
            '–ò–º–µ–µ—Ç —Å–º–æ—Ç—Ä–æ–≤—É—é –ø–ª–æ—â–∞–¥–∫—É —Å –≤–∏–¥–æ–º –Ω–∞ –≥–æ—Ä–æ–¥',
            '–°–æ—á–µ—Ç–∞–µ—Ç –æ—Ñ–∏—Å—ã, –∂–∏–ª—å–µ –∏ —Ç–æ—Ä–≥–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∏'
          ]
        },
        {
          name: '–ú—É–∑–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –∂–µ–ª–µ–∑–Ω–æ–π –¥–æ—Ä–æ–≥–∏',
          coords: [56.858794, 60.600726],
          centuries: [20,21],
          image: './assets/21/museum.jpg',
          description: '–ú—É–∑–µ–π —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∂–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–æ–≥–æ –≤–æ–∫–∑–∞–ª–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤ 1878 –≥–æ–¥—É. –≠–∫—Å–ø–æ–∑–∏—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ —Ä–∞–∑–≤–∏—Ç–∏—é –∂–µ–ª–µ–∑–Ω—ã—Ö –¥–æ—Ä–æ–≥ –Ω–∞ –£—Ä–∞–ª–µ.',
          facts: [
            '–í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –±–æ–ª–µ–µ 15 000 —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤',
            '–í–æ –¥–≤–æ—Ä–µ –º—É–∑–µ—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–∞—Ä–æ–≤–æ–∑—ã',
            '–ó–¥–∞–Ω–∏–µ –≤–æ–∫–∑–∞–ª–∞ - –ø–∞–º—è—Ç–Ω–∏–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è'
          ]
        },
        {
          name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ –ê—Ä–µ–Ω–∞',
          coords: [56.8325, 60.5736],
          centuries: [21],
          image: './assets/21/arena.jpg',
          description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—É—Ç–±–æ–ª—å–Ω—ã–π —Å—Ç–∞–¥–∏–æ–Ω, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫ –ß–µ–º–ø–∏–æ–Ω–∞—Ç—É –º–∏—Ä–∞ –ø–æ —Ñ—É—Ç–±–æ–ª—É 2018 –≥–æ–¥–∞. –ê—Ä–µ–Ω–∞ –≤–º–µ—â–∞–µ—Ç –¥–æ 35 000 –∑—Ä–∏—Ç–µ–ª–µ–π –∏ –∏–º–µ–µ—Ç —Ä–∞–∑–¥–≤–∏–∂–Ω—É—é –∫—Ä—ã—à—É.',
          facts: [
            '–ò–º–µ–µ—Ç —Ä–∞–∑–¥–≤–∏–∂–Ω—É—é –∫—Ä—ã—à—É',
            '–°–æ—Ö—Ä–∞–Ω–∏–ª–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —Å—Ç–µ–Ω—É —Å—Ç–∞—Ä–æ–≥–æ —Å—Ç–∞–¥–∏–æ–Ω–∞',
            '–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Ç—á–∏ –∏ –∫–æ–Ω—Ü–µ—Ä—Ç—ã'
          ]
        },
        {
          name: '–ù–æ–≤–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è —Ä–µ–∫–∏ –ò—Å–µ—Ç—å',
          coords: [56.844228, 60.594699],
          centuries: [21],
          image: './assets/21/naberezhnaya.jpg',
          description: '–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞–±–µ—Ä–µ–∂–Ω–æ–π —Å–¥–µ–ª–∞–ª–∞ –µ—ë –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫. –ó–¥–µ—Å—å –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –ø–µ—à–µ—Ö–æ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏, –∑–æ–Ω—ã –æ—Ç–¥—ã—Ö–∞ –∏ –∞—Ä—Ç-–æ–±—ä–µ–∫—Ç—ã.',
          facts: [
            '–ò–º–µ–µ—Ç –≤–µ–ª–æ–¥–æ—Ä–æ–∂–∫–∏ –∏ –∑–æ–Ω—ã –æ—Ç–¥—ã—Ö–∞',
            '–£–∫—Ä–∞—à–µ–Ω–∞ –∞—Ä—Ç-–æ–±—ä–µ–∫—Ç–∞–º–∏',
            '–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–π'
          ]
        },
        {
          name: '–•—Ä–∞–º-–Ω–∞-–ö—Ä–æ–≤–∏',
          coords: [56.844402, 60.609081],
          centuries: [21],
          image: './assets/21/hram.webp',
          description: '–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π —Ö—Ä–∞–º, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ –º–µ—Å—Ç–µ –¥–æ–º–∞ –ò–ø–∞—Ç—å–µ–≤–∞, –≥–¥–µ –≤ 1918 –≥–æ–¥—É –±—ã–ª–∞ —Ä–∞—Å—Å—Ç—Ä–µ–ª—è–Ω–∞ —Ü–∞—Ä—Å–∫–∞—è —Å–µ–º—å—è. –û–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ—Å–µ—â–∞–µ–º—ã—Ö —Ö—Ä–∞–º–æ–≤ –†–æ—Å—Å–∏–∏.',
          facts: [
            '–í—ã—Å–æ—Ç–∞ —Ö—Ä–∞–º–∞ - 60 –º–µ—Ç—Ä–æ–≤',
            '–í –Ω–∏–∂–Ω–µ–º —Ö—Ä–∞–º–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–æ–º–∞ –ò–ø–∞—Ç—å–µ–≤–∞',
            '–û—Ç–∫—Ä—ã—Ç –≤ 2003 –≥–æ–¥—É –∫ 300-–ª–µ—Ç–∏—é –†–æ–º–∞–Ω–æ–≤—ã—Ö'
          ]
        },
        {
          name: '–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏',
          coords: [56.841862, 60.594079],
          centuries: [20,21],
          image: './assets/21/government.jpg',
          description: '–ó–¥–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ —Å—Ç–∞–ª–∏–Ω—Å–∫–æ–≥–æ –Ω–µ–æ–∫–ª–∞—Å—Å–∏—Ü–∏–∑–º–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –≤ 1950-—Ö –≥–æ–¥–∞—Ö. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–º–∏–Ω–∞–Ω—Ç–∞ —Ü–µ–Ω—Ç—Ä–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞.',
          facts: [
            '–í—ã—Å–æ—Ç–∞ –∑–¥–∞–Ω–∏—è —Å–æ —à–ø–∏–ª–µ–º - 65 –º–µ—Ç—Ä–æ–≤',
            '–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–∏–ª–æ—Å—å –∫–∞–∫ –î–æ–º –°–æ–≤–µ—Ç–æ–≤',
            '–í –ø–æ–¥–≤–∞–ª–∞—Ö —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –±—É–Ω–∫–µ—Ä—ã –≤—Ä–µ–º–µ–Ω —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–π–Ω—ã'
          ]
        },
        {
          name: '–ë–µ–ª–∞—è –±–∞—à–Ω—è',
          coords: [56.893181, 60.572393],
          centuries: [20],
          image: './assets/21/white-tower.jpg',
          description: '–í–æ–¥–æ–Ω–∞–ø–æ—Ä–Ω–∞—è –±–∞—à–Ω—è –£–ó–¢–ú, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ 1929-1931 –≥–≥. –≤ —Å—Ç–∏–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–∏–∑–º–∞. –°–∏–º–≤–æ–ª –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω–æ–≥–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥–∞ –∏ –ø–∞–º—è—Ç–Ω–∏–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.',
          facts: [
            '–í—ã—Å–æ—Ç–∞ - 29 –º–µ—Ç—Ä–æ–≤, –¥–∏–∞–º–µ—Ç—Ä - 16 –º–µ—Ç—Ä–æ–≤',
            '–ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É –ú–æ–∏—Å–µ—è –†–µ–π—à–µ—Ä–∞',
            '–í 2010-—Ö –≥–æ–¥–∞—Ö —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∞ –≤ –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ',
            '–ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —è—Ä—É—Å–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–º–æ—Ç—Ä–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞'
          ]
        },          
        {
          name: '–¢–¶ "–ê–ª–∞—Ç—ã—Ä—å"',
          coords: [56.832881, 60.582297],
          centuries: [21],
          image: './assets/21/alatyr.jpg',
          description: '–û–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –≥–æ—Ä–æ–¥–∞, —Å—Ç–∞–≤—à–∏–π –º–µ—Å—Ç–æ–º –≤—Å—Ç—Ä–µ—á –º–æ–ª–æ–¥–µ–∂–∏. –ó–¥–µ—Å—å –ø–æ—è–≤–∏–ª–∏—Å—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã –∏ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏.',
          facts: [
            '–ò–º–µ–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É',
            '–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —à–æ–ø–∏–Ω–≥–∞ –∏ –æ—Ç–¥—ã—Ö–∞',
            '–í–∫–ª—é—á–∞–µ—Ç –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä –∏ –¥–µ—Ç—Å–∫–∏–µ –ø–ª–æ—â–∞–¥–∫–∏'
          ]
        }
      ];

      window.placemarks = [];
      markersData.forEach(item => {
        const preset = getIconPreset(item.centuries);
        
        // –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ HTML
        const escapedName = escapeHtml(item.name);
        const escapedImage = escapeHtml(item.image);
        const escapedDescription = escapeHtml(item.description);
        const escapedFacts = item.facts ? item.facts.map(fact => escapeHtml(fact)) : [];
        
        const placemark = new ymaps.Placemark(
          item.coords,
          {
            balloonContentHeader: item.name,
            balloonContentBody: `
              <button class="route-button" onclick="buildRouteTo(${item.coords[0]}, ${item.coords[1]})">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
              <button class="route-button" onclick="showInfoWindow('${escapedName}', '${escapedImage}', [${item.centuries}], '${escapedDescription}', ${JSON.stringify(escapedFacts)})">–£–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            `,
            balloonContentFooter: '',
            centuries: item.centuries
          },
          {
            preset: preset
          }
        );
        placemarks.push(placemark);
        myMap.geoObjects.add(placemark);
      });

      window.applyCenturyFilter = function() {
        const selectedCentury = document.getElementById('centuryFilter').value;
        placemarks.forEach(placemark => {
          const pointCenturies = placemark.properties.get('centuries') || [];
          if (!selectedCentury || pointCenturies.includes(parseInt(selectedCentury))) {
            myMap.geoObjects.add(placemark);
          } else {
            myMap.geoObjects.remove(placemark);
          }
        });
      };

      myMap.events.add('click', function(e) {
        if (userLocationSet) return;
        const coords = e.get('coords');
        if (userPlacemark) {
          myMap.geoObjects.remove(userPlacemark);
        }
        userPlacemark = new ymaps.Placemark(coords, {
          balloonContent: '–í—ã –∑–¥–µ—Å—å'
        }, {
          preset: 'islands#blackIcon'
        });
        myMap.geoObjects.add(userPlacemark);
        myMap.setCenter(coords, 15);
        userPosition = coords;
        userLocationSet = true;
      });
    }

    function resetUserLocation() {
      if (userPlacemark) {
        myMap.geoObjects.remove(userPlacemark);
        userPlacemark = null;
      }
      userPosition = null;
      userLocationSet = false;
      myMap.setCenter([56.838011, 60.597465], 12);
    }

    window.buildRouteTo = function(lat, lon) {
      if (!userPosition) {
        alert("–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É —Å—Ç–∞—Ä—Ç–∞, –∫–ª–∏–∫–Ω—É–≤ –Ω–∞ –∫–∞—Ä—Ç—É");
        return;
      }
      const destinationCoords = [lat, lon];
      if (currentRoute) {
        myMap.geoObjects.remove(currentRoute);
      }
      currentRoute = new ymaps.multiRouter.MultiRoute({
        referencePoints: [userPosition, destinationCoords],
        params: {
          routingMode: 'pedestrian'
        }
      }, {
        boundsAutoApply: true
      });
      myMap.geoObjects.add(currentRoute);
    };
  </script>
</body>
</html>